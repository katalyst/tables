<%# locals: { collection: } %>

<%= form_with(model: collection, method: :get) do |form| %>
  <%= form.text_field :query %>
  <%= form.submit "Apply" %>
<% end %>

<%= table_selection_with(collection:) do %>
  <%= tag.button "Download", formaction: resources_path(format: :csv), formmethod: :get %>
  <%= tag.button "Activate", formaction: activate_resources_path, formmethod: :put %>
<% end %>

<%# generating ids for rows is not required for selection, but it makes testing easier %>
<%= table_with(collection:, generate_ids: true) %>
